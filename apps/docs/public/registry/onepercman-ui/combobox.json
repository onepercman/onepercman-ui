{
  "name": "combobox.tsx",
  "meta": {
    "name": "onepercman-ui",
    "source": "https://github.com/onepercman/onepercman-ui/blob/main/packages/ui/src/combobox.tsx",
    "description": "",
    "license": "https://github.com/onepercman/onepercman-ui",
    "tags": [
      "ui"
    ]
  },
  "files": [
    {
      "name": "combobox.tsx",
      "content": "\"use client\"\n\nimport {\n  Combobox as BaseCombobox,\n  CollectionItem,\n  ComboboxRootProps,\n} from \"@ark-ui/react\"\nimport React from \"react\"\nimport {\n  ComponentMetadata,\n  ComposedTVProps,\n  createComponentFactory,\n  createComponentTree,\n} from \"react-tvcx\"\nimport { tv } from \"tailwind-variants\"\n\nexport const combobox = tv({\n  base: \"\",\n  slots: {\n    trigger: \"text-secondary\",\n    input: \"w-full\",\n    clearTrigger: \"text-secondary\",\n    content: [\n      \"flex w-full flex-col overflow-hidden rounded bg-component p-2 shadow-lg\",\n      \"data-[state=open]:animate-in\",\n      \"data-[state=open]:fade-in\",\n      \"data-[state=closed]:animate-out\",\n      \"data-[state=closed]:fade-out\",\n    ],\n    itemGroup: \"flex flex-col\",\n    ItemGroupLabel: \"w-full px-2 py-1 text-xs text-secondary\",\n    item: [\n      \"relative inline-flex cursor-pointer items-start justify-between gap-2 rounded py-2 pl-3 pr-8 font-medium data-[state=checked]:text-primary hover:bg-foreground/5\",\n      \"data-[disabled]:text-muted\",\n    ],\n    itemText: \"grow\",\n    itemIndicator:\n      \"absolute right-2 top-0 h-full items-center text-xs text-primary data-[state=checked]:flex\",\n  },\n  variants: {\n    size: {\n      xs: { item: \"py-1 text-xs\" },\n      sm: { item: \"py-1 text-sm\" },\n      md: { item: \"text-base\" },\n      lg: { item: \"text-lg\" },\n    },\n  },\n  defaultVariants: { size: \"md\" },\n})\n\nconst { withRoot, withSlot } = createComponentFactory(combobox)\n\nconst Root = withRoot(BaseCombobox.Root, \"base\")\nconst RootProvider = withRoot(BaseCombobox.RootProvider, \"base\")\nconst Context = withSlot(BaseCombobox.Context)\nconst ItemContext = withSlot(BaseCombobox.ItemContext)\nconst Label = withSlot(BaseCombobox.Label)\nconst Control = withSlot(BaseCombobox.Control)\nconst Trigger = withSlot(BaseCombobox.Trigger, \"trigger\")\nconst Input = withSlot(BaseCombobox.Input, \"input\")\nconst ClearTrigger = withSlot(BaseCombobox.ClearTrigger, \"clearTrigger\")\nconst Positioner = withSlot(BaseCombobox.Positioner)\nconst List = withSlot(BaseCombobox.List)\nconst Content = withSlot(BaseCombobox.Content, \"content\")\nconst ItemGroup = withSlot(BaseCombobox.ItemGroup, \"itemGroup\")\nconst ItemGroupLabel = withSlot(BaseCombobox.ItemGroupLabel, \"ItemGroupLabel\")\nconst Item = withSlot(BaseCombobox.Item, \"item\")\nconst ItemText = withSlot(BaseCombobox.ItemText, \"itemText\")\nconst ItemIndicator = withSlot(BaseCombobox.ItemIndicator, \"itemIndicator\")\n\nexport interface ComboboxProps<T extends CollectionItem>\n  extends ComboboxRootProps<T>,\n    ComposedTVProps<typeof combobox> {}\n\nexport interface Combobox extends ComponentMetadata {\n  <T extends CollectionItem>(props: ComboboxProps<T>): React.ReactElement | null\n}\n\nfunction _bootstrap<T extends CollectionItem>(\n  render: (\n    props: ComboboxProps<T>,\n    ref: React.ForwardedRef<HTMLDivElement>,\n  ) => React.ReactElement | null,\n) {\n  return React.forwardRef<HTMLDivElement, ComboboxProps<T>>(\n    render,\n  ) as unknown as Combobox\n}\n\nconst CustomRoot = _bootstrap(function (\n  { children, positioning, ...props },\n  ref,\n) {\n  return (\n    <Root\n      ref={ref}\n      unmountOnExit\n      positioning={{ sameWidth: true, ...positioning }}\n      {...props}\n    >\n      {children}\n    </Root>\n  )\n})\n\nconst CustomContent = React.forwardRef<\n  React.ElementRef<typeof Content>,\n  React.ComponentPropsWithoutRef<typeof Content>\n>(function ({ children, ...props }, ref) {\n  return (\n    <Positioner>\n      <Content ref={ref} {...props}>\n        {children}\n      </Content>\n    </Positioner>\n  )\n})\n\nCustomContent.displayName = \"Content\"\n\nexport const Combobox = createComponentTree(CustomRoot, {\n  Root: Root as Combobox,\n  RootProvider,\n  Context,\n  ItemContext,\n  Label,\n  Control,\n  Trigger,\n  Input,\n  ClearTrigger,\n  Positioner,\n  List,\n  Content: CustomContent,\n  ItemGroup,\n  ItemGroupLabel,\n  Item,\n  ItemText,\n  ItemIndicator,\n})\n\nCombobox.displayName = \"Combobox\"\n"
    }
  ]
}